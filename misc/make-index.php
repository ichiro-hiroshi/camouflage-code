<ul>
<?php

function getFiles($in_path)
{
	$ret = array();
	$dh = opendir($in_path);
	if (!$dh) {
		print '// opendir failed';
		exit;
	}
	while (($fname = readdir($dh)) !== FALSE) {
		if (($fname == '.') || ($fname == '..')) {
			continue;
		}
		$path = "{$in_path}/{$fname}";
		if (is_dir($path)) {
			$ret[$fname] = array('p' => $path, 'c' => getFiles($path), 't' => NULL);
		} elseif (is_file($path)) {
			$finfo = finfo_open(FILEINFO_MIME_TYPE);
			$ret[$fname] = array('p' => $path, 'c' => NULL, 't' => finfo_file($finfo, realpath($path)));
			finfo_close($finfo);
		}
	}
	closedir($dh);
	uasort($ret, function($e1, $e2) {
		if ($e1['c'] && !$e2['c']) {
			return -1;
		}
		if (!$e1['c'] && $e2['c']) {
			return 1;
		}
		return strcasecmp($e1['p'], $e2['p']);
	});
	return $ret;
}

function makeLinks($in_tree, $in_open)
{
	if ($in_open) {
		$display = 'block';
		$state = 'open';
	} else {
		$display = 'none';
		$state = 'close';
	}
	foreach ($in_tree as $key => $val) {
		if ($val['c']) {
			print "<li><folder state='{$state}' onclick='action(this)'></folder> <span>{$key}</span>\n";
			print "<ul style='display:{$display};'>\n";
			makeLinks($val['c'], $in_open);
			print "</ul>\n";
			print "</li>\n";
		} else {
			print "<li><file type='{$val['t']}'></file> <a href='{$val['p']}'>{$key}</a></li>\n";
		}
	}
}

makeLinks(getFiles('..'), array_key_exists('o', $_GET));

?>
</ul>
<style type='text/css'>

BUTTON {
	border: solid 1px silver;
	color: gray;
	font-family: monospace;
	padding: 3px;
}
UL {
	list-style-type: none;
}
FOLDER:hover {
	cursor: pointer;
}
</style>
<script>

var icon = {
	uris : {
		folderClose : 'data:image/png;base64,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',
		folderOpen : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA2xJREFUeNrsV89vG1UQ/ua93dgWSI1EWyWhVZFKlaSoORRxIUgcC1K5tRU31ANHLvwJiANnzlw4cOTcFlSpJUBRSYuUJqWJIWlEEseJk9iuU3v93sxwWNtxHG9JRUwO5Ukj7e77Md9+883MLqkqDnMYHPI4dAB06cNLzesBgn5GpK8A4MQNgGXBpkI/D4O+RfUKkDynWwUaoQ8IAFThPb95/vzox2PnRlCrRQB132qtRWF9A7cn7o56r+8ZoPJvGAigClWFquDs6DmcOnUSs7PTsDZMAK8YGRlGEKbGr1+/9WUt4k+Nhd/DEwHUeAuixjMARETGoEKAxgCaYjBGK5Uyph5MYnVtBdbYBP+K5dwizpwexQcXL1xdWsq9D8ADSk0nIgzvPbz3YOYO82Gx9ORmPXIfEZELOiIDQ4TAhjAmWZ8igtnsDAYHhjA2dnpAVEC0s15F4LwDew/PMRDPvnHvMDW1cKFQK6Ws6QCwb+XGnGJ5ZQmqukcvDbJ3qN8VDoKq1nY00IXi/Q5r7QHXgYYgX6hC1DUE+h8wQd0AKADmOHV6CqBNuEHnhLCAWdBL/6La4mBPCJgZwoxeImhnN+iciKtXMgNEBxYC7+rcBBC3JCjArF0BNB1HUR3M0gaEkkWWgLZed4a9HBGWWqCiYFGIiFdVsHfwzu0uxQR4zyiXazh2dAD9/S9DReJuohrHtC17ROLm1rpvm1MRDA4OHvee76+srH0dBIG9+lI68y6gr/3x52NE9Sqc412fBKqKTDqDd8bfwhtnz8Cz20nV5sHQXSncbp0A4/qjQ9euTXwSDA+//sWVyxePV6vbcJ5BRHGt1/b01AYjjMJGHiLS6gfPyvSkJcYYOOexsVm6Hyzn8rerterlynYJIvoM3cS6aAHcx1dPspAJhcIWyqXtCbO2vvFNNvsY6XQmTkGRrtY8LInm5zEiIJdbV+fdD6bP9n0/83t2zpjgQA7/JwMUznms5gsFdk8nzfTMg6d3fv7122KxjDC0rUW9M0IU1bEw/9e9GzdubZpHDx/h3uRv303PZCWdySAIDKztnaVSAYrFJ8hm5x9GUT0uRMWtremffrz7y6tDR99WSE8bURiGmMsuIr+av9Nexqi//8j4iZMnrgBIaQ8bAYFMtVqbW5hf+EpEivT/v+ELD+DvAQDF1NjEd5M6IgAAAABJRU5ErkJggg==',
		fileGeneric : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABrElEQVRYhe2Xv2r6QADHP1eb+Cs2LQoKP6RilxYzuIk4datLfy/h4OgLiC/gS/QB2qEUHXyFDs4OYocKBpwaBw+iXocSCRqFnzVxqB8IhOOS+9z3/nAnlFKs0m631wv/A13XP3u93kOtVnsDHGDz/5RSa0+r1VK70u/3VbfbVZ1Ox240GvfAH0B42/Ny8pOe+pFIJIhGo+TzeaNYLD7X6/U7ILpJYu8C8XgcKSXJZBLTNI1SqfTkJxGYAMB8PicSiZDJZDBN0ygUCo/lcvka0FfrngYhIMR3R12J2Wz2t1qtvmia9k8I8a6Ucty6gSQQi8UYj8cMh0MGgwFSSrLZ7E2lUnkF4kIIza0bSAK5XG75PplMmE6nOI6DZVm3QAqY8r08g0nAi2EYpFIp0uk0tm0DnAPLBAIX8GJZltvmcjWEKiClXCsLVcCPo8BRYOtG5HdW2BV3e17l4AkcXCCUIdgUP4SUwLaOHDyB0FbBJn7HJDwK7DwJt30YioCurx3j946vwGg0otlsslgsAhcQfuMshLgAroDLANr8BD4Ae5uABpzhOT7vEQfPveALgt/Vvm3mfZMAAAAASUVORK5CYII=',
		fileImage : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAE2UlEQVRYhe2Wz45cVxHGf3XOvbdv9/xpz4wzYycTKUhEwqssyCJiwR6Sh2CDBGFPhMQGHoAH4B3YYikST8CCSEiAvIis2Dh2xj3tsbun+95zqorFudPO2INYeTakenGPuvpWffXVV3UavrP/d5OPf/kHv+6kppm7f/z1FFhVAJ/+6ufXmN75/W8+A3gXeFABxNEWd++9WSLcDICf/iCyenEKMAUeVwCj4Kx7fSOJm+D8+HvKrWnkq6eZ/aa+5K8A2ui8s21Mauejt4V7M+PeDCTIfw0cBDRlqioSYiCrcxWHW5Vz5yiyO67YawJ77WV/YSA6702dH70XScn4oBLeP3C+eKSs9TKISSPcqDM3t8DUWHaZzgKLJLxIcQOijpAUKnFqiXh23J06hqsZ6LvEsyUc7kSaGg7EaaPz968VH6Ja6tmrA/vbkYOdhj4Z7+wVgIvzzCplHp/1eKzZndR02emy82iWOLphBAR/pdMVwLhybm05O00RyzgKCOyOhOMdZ9k5WOZwx2nHgXYUiNFpK8ENqkoY1zV9dqZjaJvIybM1uyPBajgYVXRLI/XKzXb8OoAbY+F4F3ZbWK0zoxjJ2WkruDlxQu6ZbEVqd6ZbkRAC5oapI4C4oNlAnf2tClXj+KAprJnTNhUpG8/7xIbObwMwNRqU+XyFiNB3iSBCCMJ2DUtL6KJnNKnp1wkBOnVUHXHDzXGHug6cp0wIgppTRcEdzpOyXidyNhjG8RKAxUp5+E1HEEcdgjsRY3u7oYqBtM5oNpzA2VJJ6pzMnrM8X3B8+za1GHUEd8e0iK2qAiEGRATzMjVmTpeuYOAf//wXf7r7V/b39pnP5xwdHnF8+xj3jscnMw7336UdjXhycp+T2RPmZ6fMTp8CMJ1O+eEHH3L41i0wpaoihgAKZMwcESnjGoT2yTevA0ip5+GDr3j074e4O/fvf8nfmoZsVkTZfkEVG56dnRJjIIQySubG7GnH53/5M2rK7aO36fue2fzpJoEMHwTUlF/87CdXaMCNxemCOIJQCblXCE6/7sldx+LZnNGkxd0QqTdtdHdMBHfDHR48/LKkFCHEiIiQc8bdcZRVv6RPq9cB9Mue7nyFdCABNCup78hdppmMUFUWz1+QU8doPGbUjnC8iM8Ucyeljq5fIUFomhazjLpSxZpV/2JYUL65Ey4BaPem7N/5PkEAeVmd41RBBiEZ3VBNCBCDoGZkVbIqDc44BEQccydrAaaqtLxFCAI41dbu1QBu3nkfG2bUvcy3qiEiG/QTM1QdNd0AFBFMDXcnq2FezuMg4NBnJeWMeZkO2p0rNGDGuuvx4XyxK0IQVA1zJ0ihZniUKrMVWgeIpeLyvqph9hLQBbvhlQuuunjxIsiorogxkLKCQ12FUq07ao6ZbwJVVZlxtyJkcCSAm2MDG6a+qd6GGK8BGLpOCIGsSp9Kr8sMg1OACGWhAKyTltrdyVmLIAdh2vD9yzb5wKzz6p29aUHfJaphxoMIEsNGE+KlqpSVEIQgw2Zzym7/lnYK7SWxWbl+ffA1IRJfbYGb4sCnn3y06S9DXCsZ2NDAy6MPic0GcQnI4DQ3BEHdMVUucDII9RKA+eP7/Paz3+F+2XFdJsAu5R/q9JpznwEPBKiB8fC8TkvA6n/+6jt70/Yf+sUrBLSYgGMAAAAASUVORK5CYII=',
		fileText : 'data:image/png;base64,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'
	},
	createImg : function(in_name, in_wh) {
		var img = document.createElement('IMG');
		with (img) {
			src = this.uris[in_name];
			width = in_wh;
			height = in_wh;
		}
		return img;
	}
}

function action(in_elem)
{
	var ul = in_elem.parentNode.getElementsByTagName('UL')[0];
	if (ul.style.display == 'none') {
		in_elem.firstChild.src = icon.uris.folderOpen;
		ul.style.display = 'block';
	} else {
		in_elem.firstChild.src = icon.uris.folderClose;
		ul.style.display = 'none';
	}
}

var iconSize = 16;
var folders = document.getElementsByTagName('FOLDER');
for (var i = 0; i < folders.length; i++) {
	if (folders[i].getAttribute('state') == 'open') {
		folders[i].appendChild(icon.createImg('folderOpen', iconSize));
	} else {
		folders[i].appendChild(icon.createImg('folderClose', iconSize));
	}
}
var files = document.getElementsByTagName('FILE');
for (var i = 0; i < files.length; i++) {
	var type = files[i].getAttribute('type').split('/')[0];
	switch (type) {
	case 'image' :
		files[i].appendChild(icon.createImg('fileImage', iconSize));
		break;
	case 'text' :
		files[i].appendChild(icon.createImg('fileText', iconSize));
		break;
	default :
		files[i].appendChild(icon.createImg('fileGeneric', iconSize));
		break;
	}
}
</script>
